# Docker 왜 쓸까?

## 컴퓨터 가상화의 역사

### 컴퓨터 가상화?

- 컴퓨터 리소스를 추상화 하는것을 의미
- 기업은 서버 가상화를 통해 하나의 컴퓨터에서 동시에 1개 이상의 운영제체를 가동시킬 수 있다
  - 하드웨어의 발전에 비해 소프트웨어의 발전은 미미, 서버의 발전에 비해 구동하는 애플리케이션의 수는 적어서 자원의 낭비 발생
  - 한 대의 컴퓨터로 처리할 수 있는 일을 늘려, 업무에 필요한 물리적인 컴퓨터 수를 줄여준다.
- 플랫폼 가상화 :
  - 하나의 물리적 컴퓨터 위에 호스트 소프트웨어가 실행된다. 호스트 소프트웨어는 게스트 소프트웨어(OS)에 맞추어 가상 머신을 만들어낸다.
  - 이들의 수는 호스트 하드웨어의 리소스에 제한을 받는다.
- 애플리케이션 가상화 :
  - 캡슐화 된 응용프로그램은 실제 설치되지않는다.
  - ex : 윈도우7에서 하위버전인 xp를 가동할 수 있음

### 전가상화

- 하이퍼바이저가 게스트 소프트웨어에 하드웨어까지 가상화 시켜준 상태.
- 윈도우부터 리눅스까지 구동이 가능하다.
- 반가상화보다는 성능이 떨어짐.
  - 하드웨어까지 가상화가 되어 실제 게스트 소프트웨어에 하드웨어에 대한 권한까지 위임된 것 처럼 보이지만
  - 실제로는 하이퍼바이저에게 의뢰하여 동작하는 구조.
  - 하이퍼바이저는 호스트OS에게 의뢰한다.

### 반가상화

- 하이퍼바이저가 호스트OS 위가 아닌 하드웨어 위에서 직접 작동하는 방식
- 하이퍼바이저가 직접 하드웨어에 접근하기 위해서는 OS 커널을 수정해야함
  - 오픈소스인 리눅스에서만 가능

- 성능면에서 하드웨어까지 전부 가상화 한 전가상화 보다는 빠르지만, 가상화하지 않은 상태보다는 현저히 느림

### 가상머신소프트웨어

- 컴퓨터에 설치된 OS에 가상으로 컴퓨터를 만들고, 가상의 컴퓨터 위에 다른 운영체제를 설치/운영 할 수 있도록 제작된 소프트웨어

### 가상화의 단점

- 느림
- 반가상화 개념으로 하이퍼바이저가 직접 하드웨어에 접근하는 식으로 성능향상을 하려고했지만
- 실제 물리 컴퓨터를 이용하는것에 비하면 너무나 느렸음

### 컨테이너의 탄생

- 컴퓨터 환경이 바뀌어도 소프트웨어를 안정적으로 실행하고자하는 개발자들의 염원이 만들어낸...
- 최근 클라우드 컴퓨팅에서는 컨테이너 기반 가상화가 기존의 하이퍼바이저 기반의 가상화 기술을 대체하며 각광받고 있음
- 특히 구글은 Gmail, Google Drive를 포함한 모든 서비스를 컨테이너로 제공한다고 발표하였으며, 현재 자사의 컨테이너 플랫폼인 ‘쿠버네티스(Kubernetes)’를 통해 2014년부터 매주 20억개 이상의 컨테이너를 구동하고 있음

### 컨테이너?

- 기존의 가상화에서는 게스트소프트웨어와 하이퍼바이저가 필요했던 반면,
- 컨테이너는 OS를 제외하고 어플리케이션 구동에 필요한 파일만 패키징하였음
  - Ex: 맥OS 위에서 우분투를 실행시키고싶으면, mac에는 없고 ubuntu에만 있는 파일을 다운받음
- OS가 없는만큼 빠르게 작동 가능

### 가상머신과 컨테이너 비교

- 기존의 서버 가상화는 하이퍼바이저를 설치하고 그 위에 게스트 OS 설치를 하는 방식
- 컨테이너는 기존의 하이퍼바이저가 없이, OS 위에 필요한 파일 패키지만 다운받아서 사용
- 서버가상화는 OS를 포함하기 때문에 크기가 크고 구동시간이 매우 오래걸림
- 컨테이너는 OS가 없으므로 가볍고, 빠르게 구동할 수 있어 마이크로 서비스 구축에 적합

# reference

- https://m.blog.naver.com/shakey7/221600166205
- http://www.opennaru.com/cloud/virtualization-vs-container/
- https://isn-t.tistory.com/34
- https://ko.wikipedia.org/wiki/%EA%B0%80%EC%83%81%ED%99%94

